#!/bin/bash
# we can give the param start, stop to the script and it accordingly starts and stops the database
# Steffen Kroggel
# 2016/01/19
# Version 1.0.0

declare -r ORIENTDB_PATH="/opt/orientdb/orientdb-community-2.1.16/"
declare -r ORIENTDB_USER="orientdb"

######################################################################################
# Functions
######################################################################################

# ==================================================
# Start
# ==================================================
function orientdb-start {
    su -c "${ORIENTDB_PATH}/bin/service/orientdb start" ${ORIENTDB_USER}
}

# ==================================================
# stop
# ==================================================
function orientdb-stop {
    su -c "${ORIENTDB_PATH}/bin/service/orientdb stop" ${ORIENTDB_USER}
}


######################################################################################
# Cases
######################################################################################
case "$1" in
    start)
	orientdb-start
    ;;
    stop)
	orientdb-stop
    ;;
    restart)
	orientdb-stop
	sleep 5
	orientdb-start
    ;;	
    *)
    echo "Usage $0 {start|stop|restart}"
    ;;
esac